# 📝 项目文档 – 虚拟宠物游戏  
本文档说明了虚拟宠物游戏的内部结构和逻辑。  

## 📂 文件分解  

- **main.py**  
  程序入口。处理菜单、会话状态，并整合核心模块 (`game.py`, `shop.py`, `user.py`)。  

- **game.py**  
  游戏的核心循环。  
  职责：  
  - 🐾 宠物选择  
  - 🎮 主交互菜单（喂食、玩耍、洗澡、散步、睡觉、对话、药水）  
  - 📊 状态更新  
  - ⏰ 时间推进  

- **pet.py**  
  `VirtualPet` 类：  
  - ❤️ 保存属性（快乐、饥饿、理智、健康、肥胖度、能量）  
  - ⏳ 成长与生命周期阶段进展  
  - 🛒 食物、香皂与药水的共享库存列表  
  - 🐱 行为方法：`feed()`, `bathe()`, `sleep()`, `health_care()` 等  

- **animal.py**  
  各宠物子类：猫、兔子、恐龙、龙、Pou  
  - 🍗 定义喜爱的食物  
  - 🎨 各个成长阶段的 ASCII 艺术图  

- **formatter.py**  
  - ✂️ `truncate(text, max_len)` – 文本长度限制  
  - 📦 `format_status_box(stats)` – 动态 CLI 状态框  

- **shop.py**  
  - 🛍️ 食物、香皂与药水的物品目录  
  - 💰 `buy()` 方法：扣除货币并更新库存  

- **user.py**  
  - 🔑 用户注册与身份验证  
  - ✅ 密码规则约束  
  - 🐾 记录所拥有的宠物和用户货币  

## 💰 商店与经济系统  
- 🍖 **食物**：影响饥饿度和快乐度  
- 🧼 **香皂**：影响理智与快乐度  
- 🧪 **药水**：不同效果（能量、健康、减脂、成长加速）  
- 📦 每件物品都有共享库存，所有用户通用  

## 📝 备注  
- ⚖️ 属性范围被限制在 0–100 之间（通过 `limit_stat()`）  
- ⏳ 成长由 `time_past()` 处理：降低属性并更新生命周期阶段  
- 🎲 初始属性与散步事件带有随机性  
- 🛠️ 设计时考虑了可扩展性（GUI、数据持久化、更多宠物）  

游戏玩法说明请参见 [README](../READMECN.md)  

